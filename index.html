<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<canvas></canvas>
		<script type="text/javascript">
			//画布 上下文 
			var canvas = document.getElementsByTagName('canvas')[0];
			var ctx = canvas.getContext('2d');
			var width = canvas.width = window.innerWidth;
			var height = canvas.height = window.innerHeight;
			
			//生成随机数
			function random(min, max){
				return Math.floor(Math.random()*(max - min + 1)) + min;

			}
			//生成随机颜色
			function randomColor(){
				return 'rgb(' +
				 random(0,255) + ', ' 
				 + random(0, 255) + ', ' +
				 random(0, 255) + ')';
			}
			
			function Ball(x, y, r, s1, s2, color){
				this.x = x;
				this.y = y;
				this.r = r;
				this.s1 = s1;
				this.s2 = s2;
				this.color = color;
			}
			Ball.prototype.draw = function(){
				
				ctx.beginPath();
				ctx.fillStyle = randomColor();
				ctx.arc(this.x, this.y, this.r, 0, 2*Math.PI, this.color);
				ctx.fill();
			};
			Ball.prototype.update = function(){
				if(this.x + this.r >= width){
					this.s1 = -(this.s1);
				}
				if(this.x - this.r <= 0){
					this.s1 = -(this.s1);
				}
				if(this.y + this.r >= height){
					this.s2 = -(this.s2);
				}
				if(this.y - this.r <= 0){
					this.s2 = -(this.s2);
				}
				this.x += this.s1;
				this.y += this.s2;
			}
			
			
			var balls = [];
			while(balls.length < 25){
				var ball = new Ball(random(0, width),
				                    random(0, height),
									random(10, 20),
									random(-7, 7),
									random(-7, 7),
									randomColor()
									);
									ball.draw();
									balls.push(ball);
			}
			
			function loop(){
				ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';
				ctx.fillRect(0, 0, width, height);
				balls.forEach(function(item){
					item.draw();
					item.update();
				});
				 requestAnimationFrame(loop);
			}
			loop();
			
		</script>
	</body>
</html>
